/*
pipeline {
    agent {
        dockerfile true
    }

    tools {
        maven "maven38"
    }

    stages {
        stage('SCM Checkout') {
            steps {
                // Get code from a GitHub repository
                git 'https://github.com/neocolss/DemoTokenAPI.git'

                // Run Maven on a Windows agent
                //sh "mvn clean test -Dtest=ExamplesTest"
            }
        }
        stage('Make image for the project'){
            steps {
                sh 'docker build -t testapi .'
            }
        }

    }
}
*/
pipeline {
	agent none
  stages {
  	stage('Maven Install') {
    	agent {
      	docker {
        	image 'maven:3.5.0'
        }
      }
      steps {
      	sh 'mvn clean install'
      }
    }
  }
}